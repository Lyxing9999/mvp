var d=Object.defineProperty;var o=(r,t,a)=>t in r?d(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a;var i=(r,t,a)=>o(r,typeof t!="symbol"?t+"":t,a);import{k as n}from"./logkf7nQ.js";class s extends Error{constructor(t,a,e){super(t),this.code=a,this.cause=e,this.name="UserStoreError"}}class h{constructor(){i(this,"$api",n().$api);i(this,"baseURL","/api/admin/")}async listUsers(){const t=await this.$api.get(this.baseURL);if(t.data.data.length===0)throw new s("No users found","NO_USERS_FOUND",null);return t.data.data}async getUserDetails(t){const a=await this.$api.get(`${this.baseURL}users/detail/${t}`);if(!a.data.data)throw new s(`No user details found for id ${t}`,"USER_NOT_FOUND",a.data.data);return a.data.data}async createUser(t){const a=await this.$api.post(`${this.baseURL}users`,t);if(a.status!==201||!a.data.success)throw new s(a.data.message||"Failed to create user","CREATE_USER_FAILED",a.data.data);return console.log("res",a),a}async updateUser(t,a){const e=await this.$api.patch(`${this.baseURL}users/${t}`,a);if(!e.data.data)throw new s("Failed to update user","UPDATE_USER_FAILED",e.data);return e.data.data}async deleteUser(t){try{const a=await this.$api.delete(`${this.baseURL}users/${t}`);if(a.status===200)return a.data.data;throw new s("Failed to delete user","DELETE_USER_FAILED",a.data)}catch(a){throw new s("Failed to delete user","DELETE_USER_FAILED",a)}}async countByRole(){return(await this.$api.get(`${this.baseURL}users/count-by-role`)).data.data}async compareGrowthStatsByRole(t){const a=await this.$api.get(`${this.baseURL}users/growth-stats-by-role`,{params:t});if(!a.data.data)throw new s("Failed to compare growth stats by role","COMPARE_GROWTH_STATS_BY_ROLE_FAILED",a.data);return a.data.data}async editUserDetail(t,a){const e=await this.$api.patch(`${this.baseURL}users/edit-user-detail/${t}`,a);if(!e.data.data)throw new s("Failed to edit user detail","EDIT_USER_DETAIL_FAILED",e.data);return e.data.data}}export{h as U,s as a};
