import{E as R}from"./DLbQifwJ.js";import{E as S,a as U}from"./D8CkI1ry.js";import{E as T,a as G,b as B}from"./tFSXDdTk.js";import{E as D}from"./Cv_xL7jc.js";import"./BN3SMaRa.js";import"./Dtr359OJ.js";import"./Bbv6myjm.js";import{E as c}from"./BXdRk_-m.js";import{g as F,a0 as A,r as y,W as I,B as N,j as k,o as m,X as q,w as l,d,e as a,Y as H,c as _,a1 as W,a2 as Y,N as n,f as $,P as O,T as j}from"./logkf7nQ.js";import{U as X}from"./CJQQVJZh.js";import{_ as J}from"./DlAUqK2U.js";import"./CN6nfdWM.js";import"./BwEmtvrM.js";const K="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512.001%20512.001'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M498.757,74.817h-62.081L365.922,4.062c-5.416-5.417-14.197-5.417-19.613,0l-70.754,70.753h-62.082%20c-7.111,0-12.874,5.764-12.874,12.874v96.609l14.322-8.892c10.252-6.365,22.669-7.179,33.407-2.796l47.98-37.832%20c7.218-5.692,17.683-4.452,23.372,2.764c5.691,7.217,4.453,17.682-2.764,23.372l-46.771,36.879%20c3.782,15.127-2.369,31.596-16.326,40.262l-27.472,17.057L200.6,271.1v28.015c0,7.111,5.764,12.874,12.874,12.874h285.283%20c7.111,0,12.874-5.764,12.874-12.874V87.691C511.631,80.581,505.867,74.817,498.757,74.817z%20M314.781,74.817l41.335-41.335%20l41.335,41.335H314.781z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M250.033,197.008c-5.371-8.651-16.738-11.309-25.387-5.938l-37.337,23.182c-0.155-30.964-0.073-14.527-0.173-34.473%20c-0.12-23.935-19.692-43.408-43.628-43.408H125.37c-4.612,11.961-16.241,42.121-19.723,51.152l36.901,16.939v-24.537%20c0-2.131,1.727-3.859,3.859-3.859s3.859,1.727,3.859,3.859c0,0.013,0,0.027,0,0.04l0.407,68.862%20c1.149,13.809,16.49,21.334,28.091,14.13l65.333-40.565C252.746,217.024,255.404,205.659,250.033,197.008z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M44.898,288.234l0.009,201.644c0,12.219,9.904,22.123,22.123,22.123c12.219,0,22.123-9.904,22.123-22.123V313.047h8.403%20C95.784,312.464,44.898,288.234,44.898,288.234z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M142.548,265.148l-16.221,35.333c-4.764,10.377-16.5,15.956-27.624,12.914v176.482c0,12.219,9.904,22.123,22.123,22.123%20c12.219,0,22.123-9.904,22.123-22.123C142.929,478.727,142.548,277.44,142.548,265.148z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M106.462,166.368l-7.496-13.632l6.65-12.096c0.991-1.803-0.315-4.016-2.375-4.016H84.97c-2.057,0-3.367,2.211-2.375,4.016%20l6.665,12.12l-7.509,13.657c-0.872,1.587-1.156,3.428-0.804,5.203l2.628,13.236c7.868-2.859,13.773-1.141,20.462,1.929%20l3.21-15.117C107.629,169.865,107.35,167.983,106.462,166.368z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M138.113,218.299l-42.707-19.606c-4.598-2.11-10.03-0.091-12.138,4.5L72.22,227.261l22.494,12.497%20c16.069,8.928,21.858,29.191,12.93,45.26c-2.77,4.987-6.641,8.971-11.133,11.846l4.573,2.099c4.598,2.11,10.03,0.091,12.138-4.5%20l29.391-64.027C144.722,225.842,142.707,220.408,138.113,218.299z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3ccircle%20cx='93.928'%20cy='85.985'%20r='38.208'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3cpath%20d='M87.502,252.737l-50.195-27.888c0.103-16.785,0.18-29.136,0.276-44.884c0-0.001,0-0.001,0-0.002%20c0.011-2.016,1.652-3.643,3.668-3.638s3.647,1.642,3.647,3.659v32.096l14.677,8.155l10.586-23.059%20c2.399-5.227,6.595-9.294,11.651-11.606c-2.069-5.367-16.89-43.804-18.97-49.198H44.34c-23.937,0-43.507,19.474-43.627,43.387%20c-0.05,8.073-0.294,47.732-0.344,55.786c-0.042,6.736,3.594,12.958,9.482,16.229l59.744,33.193%20c8.899,4.946,20.124,1.74,25.069-7.161C99.608,268.907,96.402,257.682,87.502,252.737z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Q="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='_x32_'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%23000000;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M116.738,231.551c0,23.245,14.15,43.315,34.513,49.107c15.262,42.368,55.574,70.776,100.582,70.776%20s85.32-28.408,100.58-70.776c20.365-5.792,34.515-25.854,34.515-49.107c0-15.691-6.734-30.652-18.061-40.248l1.661-8.921%20c0-3.323-0.229-6.568-0.491-9.821l-0.212-2.593l-2.213,1.374c-30.871,19.146-80.885,27.71-116.754,27.71%20c-34.85,0-83.895-8.214-114.902-26.568l-2.259-0.59l-0.188,2.554c-0.192,2.632-0.384,5.256-0.357,8.23l1.632,8.649%20C123.466,200.923,116.738,215.876,116.738,231.551z'/%3e%3cpath%20class='st0'%20d='M356.151,381.077c-9.635-5.97-18.734-11.607-26.102-17.43l-0.937-0.738l-0.972,0.691%20c-6.887,4.914-31.204,30.17-51.023,51.172l-10.945-21.273l5.697-4.076v-20.854h-40.07v20.854l5.697,4.076l-10.949,21.281%20c-19.825-21.009-44.154-46.265-51.034-51.18l-0.973-0.691l-0.937,0.738c-7.368,5.823-16.469,11.46-26.102,17.43%20c-30.029,18.61-64.062,39.697-64.062,77.344c0,22.244,52.241,53.579,168.388,53.579c116.146,0,168.388-31.335,168.388-53.579%20C420.213,420.774,386.178,399.687,356.151,381.077z'/%3e%3cpath%20class='st0'%20d='M131.67,131.824c0,18.649,56.118,42.306,119.188,42.306s119.188-23.656,119.188-42.306v-25.706l43.503-17.702%20v55.962c-5.068,0.792-8.964,5.186-8.964,10.45c0,4.503,2.966,8.432,7.242,9.852l-8.653,57.111h40.704l-8.651-57.111%20c4.27-1.421,7.232-5.35,7.232-9.852c0-5.295-3.919-9.697-9.014-10.466l-0.21-67.197c0.357-0.621,0.357-1.266,0.357-1.607%20c0-0.342,0-0.978-0.149-0.978h-0.002c-0.262-2.446-2.011-4.612-4.56-5.652l-11.526-4.72L267.551,3.238%20C262.361,1.118,256.59,0,250.858,0s-11.502,1.118-16.69,3.238L72.834,68.936c-2.863,1.172-4.713,3.773-4.713,6.622%20c0,2.842,1.848,5.443,4.716,6.63l58.833,23.928V131.824z'/%3e%3c/g%3e%3c/svg%3e",Z="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20version='1.1'%20id='svg822'%20inkscape:version='0.92.4%20(f8dce91,%202019-08-02)'%20sodipodi:docname='admin.svg'%3e%3cdefs%20id='defs816'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='12.610071'%20inkscape:cx='13.690863'%20inkscape:cy='14.709664'%20inkscape:document-units='px'%20inkscape:current-layer='layer1'%20showgrid='true'%20units='px'%20inkscape:window-width='1366'%20inkscape:window-height='713'%20inkscape:window-x='0'%20inkscape:window-y='0'%20inkscape:window-maximized='1'%20showguides='false'%20inkscape:snap-global='false'%3e%3cinkscape:grid%20type='xygrid'%20id='grid816'%20/%3e%3c/sodipodi:namedview%3e%3cmetadata%20id='metadata819'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%3e%3c/dc:title%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(0,-289.0625)'%3e%3cpath%20style='opacity:0.91000001;fill:%23000000;fill-opacity:1;stroke:none;stroke-width:0.5;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20d='M%2011.916016%206.28125%20A%204%204%200%200%200%207.9160156%2010.28125%20A%204%204%200%200%200%2011.916016%2014.28125%20A%204%204%200%200%200%2015.916016%2010.28125%20A%204%204%200%200%200%2011.916016%206.28125%20z%20M%208.4628906%2015.115234%20C%205.2252742%2016.489124%203.0845987%2019.623082%202.9824219%2023.138672%20C%205.1722039%2025.642012%208.3828992%2027.230469%2011.972656%2027.230469%20C%2013.939081%2027.230469%2015.782366%2026.738864%2017.416016%2025.896484%20C%2016.972529%2025.303803%2016.599939%2024.654546%2016.285156%2023.957031%20C%2015.297133%2021.767701%2014.789426%2019.133132%2014.728516%2016.570312%20L%2014.722656%2016.318359%20L%2012.001953%2020.574219%20L%208.4628906%2015.115234%20z%20M%2022.037109%2015.308594%20C%2020.292352%2015.308594%2017.177734%2017.251953%2017.177734%2017.251953%20C%2017.287817%2021.883593%2019.126557%2027.009156%2022.037109%2026.972656%20C%2022.040309%2026.972626%2022.043675%2026.972696%2022.046875%2026.972656%20C%2022.864919%2026.962256%2023.588979%2026.535536%2024.179688%2025.916016%20C%2024.770398%2025.296496%2025.255835%2024.472265%2025.654297%2023.546875%20C%2026.45122%2021.696085%2026.896484%2019.437792%2026.896484%2017.576172%20L%2026.896484%2017.308594%20L%2026.671875%2017.166016%20C%2026.671875%2017.166016%2025.951124%2016.70805%2025.029297%2016.25%20C%2024.107471%2015.79195%2023.009546%2015.308594%2022.041016%2015.308594%20L%2022.037109%2015.308594%20z%20M%2022.037109%2016.279297%20L%2022.041016%2016.279297%20C%2022.641611%2016.279297%2023.726421%2016.688174%2024.597656%2017.121094%20C%2025.326193%2017.483104%2025.720925%2017.73488%2025.896484%2017.84375%20C%2025.857384%2019.50574%2025.45849%2021.539389%2024.759766%2023.162109%20C%2024.392753%2024.014469%2023.950753%2024.748774%2023.476562%2025.246094%20C%2023.003258%2025.742454%2022.526857%2025.9928%2022.037109%2026%20L%2022.037109%2016.279297%20z%20'%20transform='translate(0,289.0625)'%20id='path852'%20/%3e%3c/g%3e%3c/svg%3e",e2={class:"max-w-md mx-auto mt-16 p-8 rounded-lg shadow-lg bg-white text-center font-inter"},o2=["src"],s2=["src"],r2={class:"mt-4 text-center text-sm",style:{color:"var(--color-dark)"}},a2=F({__name:"RegisterForm",setup(b){const f=new X,v=A(),p=y(!1),u=y(!1),o=I({username:"",password:"",confirmPassword:"",role:"student",agree:!1}),h=[{label:"Student",value:"student",icon:Q},{label:"Admin",value:"admin",icon:Z},{label:"Teacher",value:"teacher",icon:K}],C=(i,e,t)=>{e!==o.password?t(new Error("Passwords do not match")):t()},V=async()=>{var i,e,t;if(!o.username){c.warning("Username is required");return}if(!o.password){c.warning("Password is required");return}if(!o.confirmPassword){c.warning("Please confirm your password");return}if(!o.role){c.warning("Please select a role");return}if(!o.agree){c.warning("You must agree to the terms");return}if(o.password!==o.confirmPassword){c.error("Passwords do not match");return}p.value=!0;try{const r=await f.createUser({username:o.username,password:o.password,role:o.role});c.success(((i=r==null?void 0:r.data)==null?void 0:i.message)||"Registration successful!"),v.push("/auth/login")}catch(r){console.error("Registration error:",r);const w=((t=(e=r==null?void 0:r.response)==null?void 0:e.data)==null?void 0:t.message)||(r==null?void 0:r.message)||"Registration failed";c.error(w)}finally{p.value=!1}},g={username:[{required:!0,message:"Please input email",trigger:"blur"}],password:[{required:!0,message:"Please input password",trigger:"blur"}],confirmPassword:[{required:!0,message:"Please confirm your password",trigger:"blur"},{validator:C,trigger:"blur"}]};return(i,e)=>{const t=R,r=U,w=G,M=T,x=N("RouterLink"),P=B,L=D,E=S;return m(),k(q,{name:"fade-slide",appear:""},{default:l(()=>[d("div",e2,[a(E,{model:o,class:"text-left",onSubmit:H(V,["prevent"]),"label-position":"top"},{default:l(()=>[a(r,{class:"mb-6",label:"Username",rules:g.username},{default:l(()=>[a(t,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=s=>o.username=s),placeholder:"Enter your username",class:"text-[var(--color-dark)] placeholder:[var(--color-primary-light)] rounded-md"},null,8,["modelValue"])]),_:1},8,["rules"]),a(r,{class:"mb-6",label:"Password",rules:g.password},{default:l(()=>[a(t,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s),placeholder:"Enter your password",type:"password","show-password":"",autocomplete:"new-password",class:"text-[var(--color-dark)] placeholder:[var(--color-primary-light)] rounded-md"},null,8,["modelValue"])]),_:1},8,["rules"]),a(r,{label:"Confirm Password",rules:g.confirmPassword,class:"mb-6"},{default:l(()=>[a(t,{modelValue:o.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=s=>o.confirmPassword=s),placeholder:"Confirm your password",type:"password","show-password":"",autocomplete:"new-password",class:"text-[var(--color-dark)] placeholder:[var(--color-primary-light)] rounded-md"},null,8,["modelValue"])]),_:1},8,["rules"]),a(r,null,{default:l(()=>[e[7]||(e[7]=d("label",{for:"role",class:"block mb-2 text-sm",style:{color:"var(--color-dark)"}}," Select Role ",-1)),a(M,{modelValue:o.role,"onUpdate:modelValue":e[3]||(e[3]=s=>o.role=s),placeholder:"Select your role",class:"w-full rounded-md"},{prefix:l(()=>{var s;return[o.role?(m(),_("img",{key:0,src:(s=h.find(z=>z.value===o.role))==null?void 0:s.icon,alt:"",class:"inline-block w-5 h-5 mr-2"},null,8,o2)):O("",!0)]}),default:l(()=>[(m(),_(W,null,Y(h,s=>a(w,{key:s.value,label:s.label,value:s.value},{default:l(()=>[d("img",{src:s.icon,alt:"",class:"inline-block w-5 h-5 mr-2"},null,8,s2),n(" "+$(s.label),1)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1,__:[7]}),a(r,{class:"mb-6"},{default:l(()=>[a(P,{class:"ml-2",modelValue:o.agree,"onUpdate:modelValue":e[4]||(e[4]=s=>o.agree=s),style:{color:"var(--color-dark)"}},{default:l(()=>[e[9]||(e[9]=n(" I agree to the ")),a(x,{to:"/terms",class:"hover:underline",style:{color:"var(--color-primary)"}},{default:l(()=>e[8]||(e[8]=[n(" Terms and Conditions ")])),_:1,__:[8]})]),_:1,__:[9]},8,["modelValue"])]),_:1}),a(r,null,{default:l(()=>[a(L,{type:"primary","native-type":"submit",loading:p.value,class:"w-full rounded-md font-semibold shadow-md",style:j([{"background-color":"var(--color-primary)",color:"var(--color-light)"},u.value?"background-color: var(--color-primary-light); ":""]),onMouseover:e[5]||(e[5]=s=>u.value=!0),onMouseleave:e[6]||(e[6]=s=>u.value=!1)},{default:l(()=>e[10]||(e[10]=[n(" Register ")])),_:1,__:[10]},8,["loading","style"])]),_:1})]),_:1},8,["model"]),d("p",r2,[e[12]||(e[12]=n(" Already have an account? ")),a(x,{to:"/auth/login",class:"hover:underline",style:{color:"var(--color-primary)"}},{default:l(()=>e[11]||(e[11]=[n(" Login here ")])),_:1,__:[11]})])])]),_:1})}}}),l2=J(a2,[["__scopeId","data-v-b2c8c0f8"]]),x2={__name:"register",setup(b){return(f,v)=>(m(),k(l2))}};export{x2 as default};
