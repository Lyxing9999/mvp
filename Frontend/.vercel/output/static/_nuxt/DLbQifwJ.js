import{z as Qe,i as Ve,g as Z,U as se,A as et,m as tt,h as Se,y as at,B as Be,D as ae,d as ot,u as nt,F as st,G as lt,H as Ee,V as rt,f as it,I as ut,a as D,J as Ie,K as Ne,j as ze}from"./Cv_xL7jc.js";import{a5 as oe,F as m,U as $e,s as Y,r as O,a3 as X,b as Pe,a4 as V,g as G,al as dt,ad as ct,am as pt,an as ft,q as vt,ao as mt,c as C,o as h,P as b,a1 as ne,d as z,Q as w,R as t,S as $,j as E,w as B,ac as W,ai as Fe,e as Ae,ap as ht,Y as gt,V as yt,f as L,T as le,l as Te,ah as bt,N as wt,ak as xt,X as Ct}from"./logkf7nQ.js";import{b as Re,d as H,f as St}from"./CN6nfdWM.js";import{_ as Me,u as re,w as De}from"./BN3SMaRa.js";function Gt(){if(!arguments.length)return[];var o=arguments[0];return Qe(o)?o:[o]}const Et=()=>Ve&&/firefox/i.test(window.navigator.userAgent);let x;const It={height:"0",visibility:"hidden",overflow:Et()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Nt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function zt(o){const u=window.getComputedStyle(o),n=u.getPropertyValue("box-sizing"),a=Number.parseFloat(u.getPropertyValue("padding-bottom"))+Number.parseFloat(u.getPropertyValue("padding-top")),i=Number.parseFloat(u.getPropertyValue("border-bottom-width"))+Number.parseFloat(u.getPropertyValue("border-top-width"));return{contextStyle:Nt.map(s=>[s,u.getPropertyValue(s)]),paddingSize:a,borderSize:i,boxSizing:n}}function ke(o,u=1,n){var a;x||(x=document.createElement("textarea"),document.body.appendChild(x));const{paddingSize:i,borderSize:c,boxSizing:s,contextStyle:r}=zt(o);r.forEach(([y,I])=>x==null?void 0:x.style.setProperty(y,I)),Object.entries(It).forEach(([y,I])=>x==null?void 0:x.style.setProperty(y,I,"important")),x.value=o.value||o.placeholder||"";let d=x.scrollHeight;const g={};s==="border-box"?d=d+c:s==="content-box"&&(d=d-i),x.value="";const f=x.scrollHeight-i;if(Z(u)){let y=f*u;s==="border-box"&&(y=y+i+c),d=Math.max(y,d),g.minHeight=`${y}px`}if(Z(n)){let y=f*n;s==="border-box"&&(y=y+i+c),d=Math.min(y,d)}return g.height=`${d}px`,(a=x.parentNode)==null||a.removeChild(x),x=void 0,g}const Pt=Re({id:{type:String,default:void 0},size:at,disabled:Boolean,modelValue:{type:H([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:H([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Se},prefixIcon:{type:Se},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:H([Object,Array,String]),default:()=>tt({})},autofocus:Boolean,rows:{type:Number,default:2},...et(["ariaLabel"])}),Ft={[se]:o=>oe(o),input:o=>oe(o),change:o=>oe(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Tt=["class","style"],kt=/^on[A-Z]/,Vt=(o={})=>{const{excludeListeners:u=!1,excludeKeys:n}=o,a=m(()=>((n==null?void 0:n.value)||[]).concat(Tt)),i=$e();return i?m(()=>{var c;return St(Object.entries((c=i.proxy)==null?void 0:c.$attrs).filter(([s])=>!a.value.includes(s)&&!(u&&kt.test(s))))}):m(()=>({}))};function Bt(o,{beforeFocus:u,afterFocus:n,beforeBlur:a,afterBlur:i}={}){const c=$e(),{emit:s}=c,r=Y(),d=Be(),g=O(!1),f=v=>{Pe(u)&&u(v)||g.value||(g.value=!0,s("focus",v),n==null||n())},y=v=>{var l;Pe(a)&&a(v)||v.relatedTarget&&((l=r.value)!=null&&l.contains(v.relatedTarget))||(g.value=!1,s("blur",v),i==null||i())},I=v=>{var l,P;(l=r.value)!=null&&l.contains(document.activeElement)&&r.value!==document.activeElement||ot(v.target)||d.value||(P=o.value)==null||P.focus()};return X([r,d],([v,l])=>{v&&(l?v.removeAttribute("tabindex"):v.setAttribute("tabindex","-1"))}),ae(r,"focus",f,!0),ae(r,"blur",y,!0),ae(r,"click",I,!0),{isFocused:g,wrapperRef:r,handleFocus:f,handleBlur:y}}const $t=o=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(o);function At({afterComposition:o,emit:u}){const n=O(!1),a=r=>{u==null||u("compositionstart",r),n.value=!0},i=r=>{var d;u==null||u("compositionupdate",r);const g=(d=r.target)==null?void 0:d.value,f=g[g.length-1]||"";n.value=!$t(f)},c=r=>{u==null||u("compositionend",r),n.value&&(n.value=!1,V(()=>o(r)))};return{isComposing:n,handleComposition:r=>{r.type==="compositionend"?c(r):i(r)},handleCompositionStart:a,handleCompositionUpdate:i,handleCompositionEnd:c}}function Rt(o){let u;function n(){if(o.value==null)return;const{selectionStart:i,selectionEnd:c,value:s}=o.value;if(i==null||c==null)return;const r=s.slice(0,Math.max(0,i)),d=s.slice(Math.max(0,c));u={selectionStart:i,selectionEnd:c,value:s,beforeTxt:r,afterTxt:d}}function a(){if(o.value==null||u==null)return;const{value:i}=o.value,{beforeTxt:c,afterTxt:s,selectionStart:r}=u;if(c==null||s==null||r==null)return;let d=i.length;if(i.endsWith(s))d=i.length-s.length;else if(i.startsWith(c))d=c.length;else{const g=c[r-1],f=i.indexOf(g,r-1);f!==-1&&(d=f+1)}o.value.setSelectionRange(d,d)}return[n,a]}const Mt="ElInput",Dt=G({name:Mt,inheritAttrs:!1}),Lt=G({...Dt,props:Pt,emits:Ft,setup(o,{expose:u,emit:n}){const a=o,i=dt(),c=Vt(),s=ct(),r=m(()=>[a.type==="textarea"?P.b():l.b(),l.m(I.value),l.is("disabled",v.value),l.is("exceed",je.value),{[l.b("group")]:s.prepend||s.append,[l.m("prefix")]:s.prefix||a.prefixIcon,[l.m("suffix")]:s.suffix||a.suffixIcon||a.clearable||a.showPassword,[l.bm("suffix","password-clear")]:U.value&&Q.value,[l.b("hidden")]:a.type==="hidden"},i.class]),d=m(()=>[l.e("wrapper"),l.is("focus",J.value)]),{form:g,formItem:f}=st(),{inputId:y}=lt(a,{formItemContext:f}),I=nt(),v=Be(),l=re("input"),P=re("textarea"),_=Y(),S=Y(),q=O(!1),K=O(!1),ie=O(),j=Y(a.inputStyle),F=m(()=>_.value||S.value),{wrapperRef:Le,isFocused:J,handleFocus:Oe,handleBlur:He}=Bt(F,{beforeFocus(){return v.value},afterBlur(){var e;a.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"blur").catch(p=>Ee()))}}),ue=m(()=>{var e;return(e=g==null?void 0:g.statusIcon)!=null?e:!1}),A=m(()=>(f==null?void 0:f.validateState)||""),de=m(()=>A.value&&rt[A.value]),_e=m(()=>K.value?pt:ft),Ke=m(()=>[i.style]),ce=m(()=>[a.inputStyle,j.value,{resize:a.resize}]),N=m(()=>it(a.modelValue)?"":String(a.modelValue)),U=m(()=>a.clearable&&!v.value&&!a.readonly&&!!N.value&&(J.value||q.value)),Q=m(()=>a.showPassword&&!v.value&&!!N.value),T=m(()=>a.showWordLimit&&!!a.maxlength&&(a.type==="text"||a.type==="textarea")&&!v.value&&!a.readonly&&!a.showPassword),ee=m(()=>N.value.length),je=m(()=>!!T.value&&ee.value>Number(a.maxlength)),Ue=m(()=>!!s.suffix||!!a.suffixIcon||U.value||a.showPassword||T.value||!!A.value&&ue.value),[pe,fe]=Rt(_);ut(S,e=>{if(We(),!T.value||a.resize!=="both")return;const p=e[0],{width:k}=p.contentRect;ie.value={right:`calc(100% - ${k+15+6}px)`}});const R=()=>{const{type:e,autosize:p}=a;if(!(!Ve||e!=="textarea"||!S.value))if(p){const k=Te(p)?p.minRows:void 0,xe=Te(p)?p.maxRows:void 0,Ce=ke(S.value,k,xe);j.value={overflowY:"hidden",...Ce},V(()=>{S.value.offsetHeight,j.value=Ce})}else j.value={minHeight:ke(S.value).minHeight}},We=(e=>{let p=!1;return()=>{var k;if(p||!a.autosize)return;((k=S.value)==null?void 0:k.offsetParent)===null||(e(),p=!0)}})(R),M=()=>{const e=F.value,p=a.formatter?a.formatter(N.value):N.value;!e||e.value===p||(e.value=p)},te=async e=>{pe();let{value:p}=e.target;if(a.formatter&&a.parser&&(p=a.parser(p)),!me.value){if(p===N.value){M();return}n(se,p),n(Ie,p),await V(),M(),fe()}},ve=e=>{let{value:p}=e.target;a.formatter&&a.parser&&(p=a.parser(p)),n(Ne,p)},{isComposing:me,handleCompositionStart:he,handleCompositionUpdate:ge,handleCompositionEnd:ye}=At({emit:n,afterComposition:te}),Ye=()=>{pe(),K.value=!K.value,setTimeout(fe)},Xe=()=>{var e;return(e=F.value)==null?void 0:e.focus()},Ze=()=>{var e;return(e=F.value)==null?void 0:e.blur()},Ge=e=>{q.value=!1,n("mouseleave",e)},qe=e=>{q.value=!0,n("mouseenter",e)},be=e=>{n("keydown",e)},Je=()=>{var e;(e=F.value)==null||e.select()},we=()=>{n(se,""),n(Ne,""),n("clear"),n(Ie,"")};return X(()=>a.modelValue,()=>{var e;V(()=>R()),a.validateEvent&&((e=f==null?void 0:f.validate)==null||e.call(f,"change").catch(p=>Ee()))}),X(N,()=>M()),X(()=>a.type,async()=>{await V(),M(),R()}),vt(()=>{!a.formatter&&a.parser,M(),V(R)}),u({input:_,textarea:S,ref:F,textareaStyle:ce,autosize:mt(a,"autosize"),isComposing:me,focus:Xe,blur:Ze,select:Je,clear:we,resizeTextarea:R}),(e,p)=>(h(),C("div",{class:w([t(r),{[t(l).bm("group","append")]:e.$slots.append,[t(l).bm("group","prepend")]:e.$slots.prepend}]),style:le(t(Ke)),onMouseenter:qe,onMouseleave:Ge},[b(" input "),e.type!=="textarea"?(h(),C(ne,{key:0},[b(" prepend slot "),e.$slots.prepend?(h(),C("div",{key:0,class:w(t(l).be("group","prepend"))},[$(e.$slots,"prepend")],2)):b("v-if",!0),z("div",{ref_key:"wrapperRef",ref:Le,class:w(t(d))},[b(" prefix slot "),e.$slots.prefix||e.prefixIcon?(h(),C("span",{key:0,class:w(t(l).e("prefix"))},[z("span",{class:w(t(l).e("prefix-inner"))},[$(e.$slots,"prefix"),e.prefixIcon?(h(),E(t(D),{key:0,class:w(t(l).e("icon"))},{default:B(()=>[(h(),E(W(e.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),z("input",Fe({id:t(y),ref_key:"input",ref:_,class:t(l).e("inner")},t(c),{minlength:e.minlength,maxlength:e.maxlength,type:e.showPassword?K.value?"text":"password":e.type,disabled:t(v),readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.ariaLabel,placeholder:e.placeholder,style:e.inputStyle,form:e.form,autofocus:e.autofocus,role:e.containerRole,onCompositionstart:t(he),onCompositionupdate:t(ge),onCompositionend:t(ye),onInput:te,onChange:ve,onKeydown:be}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),b(" suffix slot "),t(Ue)?(h(),C("span",{key:1,class:w(t(l).e("suffix"))},[z("span",{class:w(t(l).e("suffix-inner"))},[!t(U)||!t(Q)||!t(T)?(h(),C(ne,{key:0},[$(e.$slots,"suffix"),e.suffixIcon?(h(),E(t(D),{key:0,class:w(t(l).e("icon"))},{default:B(()=>[(h(),E(W(e.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),t(U)?(h(),E(t(D),{key:1,class:w([t(l).e("icon"),t(l).e("clear")]),onMousedown:gt(t(yt),["prevent"]),onClick:we},{default:B(()=>[Ae(t(ht))]),_:1},8,["class","onMousedown"])):b("v-if",!0),t(Q)?(h(),E(t(D),{key:2,class:w([t(l).e("icon"),t(l).e("password")]),onClick:Ye},{default:B(()=>[(h(),E(W(t(_e))))]),_:1},8,["class"])):b("v-if",!0),t(T)?(h(),C("span",{key:3,class:w(t(l).e("count"))},[z("span",{class:w(t(l).e("count-inner"))},L(t(ee))+" / "+L(e.maxlength),3)],2)):b("v-if",!0),t(A)&&t(de)&&t(ue)?(h(),E(t(D),{key:4,class:w([t(l).e("icon"),t(l).e("validateIcon"),t(l).is("loading",t(A)==="validating")])},{default:B(()=>[(h(),E(W(t(de))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),e.$slots.append?(h(),C("div",{key:1,class:w(t(l).be("group","append"))},[$(e.$slots,"append")],2)):b("v-if",!0)],64)):(h(),C(ne,{key:1},[b(" textarea "),z("textarea",Fe({id:t(y),ref_key:"textarea",ref:S,class:[t(P).e("inner"),t(l).is("focus",t(J))]},t(c),{minlength:e.minlength,maxlength:e.maxlength,tabindex:e.tabindex,disabled:t(v),readonly:e.readonly,autocomplete:e.autocomplete,style:t(ce),"aria-label":e.ariaLabel,placeholder:e.placeholder,form:e.form,autofocus:e.autofocus,rows:e.rows,role:e.containerRole,onCompositionstart:t(he),onCompositionupdate:t(ge),onCompositionend:t(ye),onInput:te,onFocus:t(Oe),onBlur:t(He),onChange:ve,onKeydown:be}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),t(T)?(h(),C("span",{key:0,style:le(ie.value),class:w(t(l).e("count"))},L(t(ee))+" / "+L(e.maxlength),7)):b("v-if",!0)],64))],38))}});var Ot=Me(Lt,[["__file","input.vue"]]);const qt=De(Ot),Ht=Re({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:H([String,Object,Array])},offset:{type:H(Array),default:[0,0]},badgeClass:{type:String}}),_t=G({name:"ElBadge"}),Kt=G({..._t,props:Ht,setup(o,{expose:u}){const n=o,a=re("badge"),i=m(()=>n.isDot?"":Z(n.value)&&Z(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),c=m(()=>{var s,r,d,g,f;return[{backgroundColor:n.color,marginRight:ze(-((r=(s=n.offset)==null?void 0:s[0])!=null?r:0)),marginTop:ze((g=(d=n.offset)==null?void 0:d[1])!=null?g:0)},(f=n.badgeStyle)!=null?f:{}]});return u({content:i}),(s,r)=>(h(),C("div",{class:w(t(a).b())},[$(s.$slots,"default"),Ae(Ct,{name:`${t(a).namespace.value}-zoom-in-center`,persisted:""},{default:B(()=>[bt(z("sup",{class:w([t(a).e("content"),t(a).em("content",s.type),t(a).is("fixed",!!s.$slots.default),t(a).is("dot",s.isDot),t(a).is("hide-zero",!s.showZero&&n.value===0),s.badgeClass]),style:le(t(c))},[$(s.$slots,"content",{value:t(i)},()=>[wt(L(t(i)),1)])],6),[[xt,!s.hidden&&(t(i)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var jt=Me(Kt,[["__file","badge.vue"]]);const Jt=De(jt);export{qt as E,Jt as a,Bt as b,Gt as c,Vt as d,At as u};
