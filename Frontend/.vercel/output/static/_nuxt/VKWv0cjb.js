import{g as Y,f as Z}from"./BwEmtvrM.js";import{j as R,f as x,y as ee,u as te}from"./Cv_xL7jc.js";import{u as U,_ as Q,w as le,a as se}from"./BN3SMaRa.js";import{g as j,ah as T,A,i as q,c as h,R as a,o as n,d as $,a1 as _,a2 as V,j as N,e as F,ad as ne,F as G,P as H,Q as O,S as z,N as B,f as I,a6 as oe,a3 as ie,w as C}from"./logkf7nQ.js";import{b as K,d as re}from"./CN6nfdWM.js";import{E as ae}from"./BB7LOq3x.js";import{E as ce}from"./07Nh2Hrn.js";import"./Dtr359OJ.js";import"./Vlj5_leD.js";import"./DLbQifwJ.js";import"./Bbv6myjm.js";import"./tFSXDdTk.js";import"./BXdRk_-m.js";import"./CP8Wd66V.js";import"./l0sNRNKZ.js";import"./DlAUqK2U.js";import"./CJQQVJZh.js";import"./Do5yqUOX.js";import"./D8CkI1ry.js";import"./B0fAFev2.js";const L=Symbol("elDescriptions");var P=j({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:q(L,{})}},render(){var S;const l=Y(this.cell),s=(((S=this.cell)==null?void 0:S.dirs)||[]).map(v=>{const{dir:p,arg:d,modifiers:W,value:k}=v;return[p,k,d,W]}),{border:D,direction:u}=this.descriptions,i=u==="vertical",t=()=>{var v,p,d;return((d=(p=(v=this.cell)==null?void 0:v.children)==null?void 0:p.label)==null?void 0:d.call(p))||l.label},f=()=>{var v,p,d;return(d=(p=(v=this.cell)==null?void 0:v.children)==null?void 0:p.default)==null?void 0:d.call(p)},e=l.span,o=l.rowspan,r=l.align?`is-${l.align}`:"",c=l.labelAlign?`is-${l.labelAlign}`:r,m=l.className,g=l.labelClassName,b=this.type==="label"&&(l.labelWidth||this.descriptions.labelWidth)||l.width,w={width:R(b),minWidth:R(l.minWidth)},y=U("descriptions");switch(this.type){case"label":return T(A(this.tag,{style:w,class:[y.e("cell"),y.e("label"),y.is("bordered-label",D),y.is("vertical-label",i),c,g],colSpan:i?e:1,rowspan:i?1:o},t()),s);case"content":return T(A(this.tag,{style:w,class:[y.e("cell"),y.e("content"),y.is("bordered-content",D),y.is("vertical-content",i),r,m],colSpan:i?e:e*2-1,rowspan:i?o*2-1:o},f()),s);default:{const v=t(),p={},d=R(l.labelWidth||this.descriptions.labelWidth);return d&&(p.width=d,p.display="inline-block"),T(A("td",{style:w,class:[y.e("cell"),r],colSpan:e,rowspan:o},[x(v)?void 0:A("span",{style:p,class:[y.e("label"),g]},v),A("span",{class:[y.e("content"),m]},f())]),s)}}}});const pe=K({row:{type:re(Array),default:()=>[]}}),de=j({name:"ElDescriptionsRow"}),ue=j({...de,props:pe,setup(S){const l=q(L,{});return(s,D)=>a(l).direction==="vertical"?(n(),h(_,{key:0},[$("tr",null,[(n(!0),h(_,null,V(s.row,(u,i)=>(n(),N(a(P),{key:`tr1-${i}`,cell:u,tag:"th",type:"label"},null,8,["cell"]))),128))]),$("tr",null,[(n(!0),h(_,null,V(s.row,(u,i)=>(n(),N(a(P),{key:`tr2-${i}`,cell:u,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(n(),h("tr",{key:1},[(n(!0),h(_,null,V(s.row,(u,i)=>(n(),h(_,{key:`tr3-${i}`},[a(l).border?(n(),h(_,{key:0},[F(a(P),{cell:u,tag:"td",type:"label"},null,8,["cell"]),F(a(P),{cell:u,tag:"td",type:"content"},null,8,["cell"])],64)):(n(),N(a(P),{key:1,cell:u,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var fe=Q(ue,[["__file","descriptions-row.vue"]]);const me=K({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ee,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),J="ElDescriptionsItem",be=j({name:"ElDescriptions"}),ye=j({...be,props:me,setup(S){const l=S,s=U("descriptions"),D=te(),u=ne();oe(L,l);const i=G(()=>[s.b(),s.m(D.value)]),t=(e,o,r,c=!1)=>(e.props||(e.props={}),o>r&&(e.props.span=r),c&&(e.props.span=o),e),f=()=>{if(!u.default)return[];const e=Z(u.default()).filter(b=>{var w;return((w=b==null?void 0:b.type)==null?void 0:w.name)===J}),o=[];let r=[],c=l.column,m=0;const g=[];return e.forEach((b,w)=>{var y,v,p;const d=((y=b.props)==null?void 0:y.span)||1,W=((v=b.props)==null?void 0:v.rowspan)||1,k=o.length;if(g[k]||(g[k]=0),W>1)for(let E=1;E<W;E++)g[p=k+E]||(g[p]=0),g[k+E]++,m++;if(g[k]>0&&(c-=g[k],g[k]=0),w<e.length-1&&(m+=d>c?c:d),w===e.length-1){const E=l.column-m%l.column;r.push(t(b,E,c,!0)),o.push(r);return}d<c?(c-=d,r.push(b)):(r.push(t(b,d,c)),o.push(r),c=l.column,r=[])}),o};return(e,o)=>(n(),h("div",{class:O(a(i))},[e.title||e.extra||e.$slots.title||e.$slots.extra?(n(),h("div",{key:0,class:O(a(s).e("header"))},[$("div",{class:O(a(s).e("title"))},[z(e.$slots,"title",{},()=>[B(I(e.title),1)])],2),$("div",{class:O(a(s).e("extra"))},[z(e.$slots,"extra",{},()=>[B(I(e.extra),1)])],2)],2)):H("v-if",!0),$("div",{class:O(a(s).e("body"))},[$("table",{class:O([a(s).e("table"),a(s).is("bordered",e.border)])},[$("tbody",null,[(n(!0),h(_,null,V(f(),(r,c)=>(n(),N(fe,{key:c,row:r},null,8,["row"]))),128))])],2)],2)],2))}});var he=Q(ye,[["__file","description.vue"]]);const M=["left","center","right"],ge=K({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:M,default:"left"},labelAlign:{type:String,values:M},className:{type:String,default:""},labelClassName:{type:String,default:""}}),X=j({name:J,props:ge}),ve=le(he,{DescriptionsItem:X}),we=se(X),Ke=j({__name:"UserDetailDialog",props:{modelValue:{type:Boolean},loading:{type:Boolean},title:{},infoObject:{},fields:{},width:{}},emits:["update:modelValue"],setup(S,{emit:l}){const s=S,D=l;function u(t,f){if(!t)return null;const e=f.split(".");let o=t;for(const r of e){if(o==null)return null;o=o[r]}return o}const i=G(()=>{if(!s.infoObject)return{};console.log("infoObject in dialog:",s.infoObject);const t={};for(const f of s.fields)if(f.children&&f.children.length)for(const e of f.children)t[e.key]=u(s.infoObject,e.key);else t[f.key]=u(s.infoObject,f.key);return t});return ie(()=>s.infoObject,t=>{console.log("props.infoObject changed in dialog:",t)},{deep:!0,immediate:!0}),(t,f)=>{const e=we,o=ve,r=ae,c=ce;return n(),N(c,{"model-value":t.modelValue,title:t.title,width:t.width,onClose:f[0]||(f[0]=m=>D("update:modelValue",!1))},{default:C(()=>[F(r,{loading:t.loading,animated:""},{default:C(()=>[t.infoObject?(n(),N(o,{key:0,column:1,border:""},{default:C(()=>[(n(!0),h(_,null,V(t.fields,(m,g)=>(n(),N(e,{key:g,label:m.label},{default:C(()=>[m.children&&m.children.length?(n(),N(o,{key:0,column:1,border:""},{default:C(()=>[(n(!0),h(_,null,V(m.children,(b,w)=>(n(),N(e,{key:w,label:b.label},{default:C(()=>[t.$slots.custom?z(t.$slots,"custom",{key:0,item:b,infoObject:t.infoObject,value:a(i)[b.key],fields:t.fields}):(n(),h(_,{key:1},[B(I(a(i)[b.key]||"N/A"),1)],64))]),_:2},1032,["label"]))),128))]),_:2},1024)):t.$slots.custom?z(t.$slots,"custom",{key:1,item:m,infoObject:t.infoObject,value:a(i)[m.key],fields:t.fields}):(n(),h(_,{key:2},[B(I(a(i)[m.key]||"N/A"),1)],64))]),_:2},1032,["label"]))),128))]),_:3})):H("",!0)]),_:3},8,["loading"])]),_:3},8,["model-value","title","width"])}}});export{Ke as default};
